<!DOCTYPE HTML>
<html lang="en">
  <head>
    <title>Sweet memory game</title>
    <style>
      img {
        height: 100px;
      }

      #game img {
        display: inline-block;
        border: 1px solid rebeccapurple;
        padding: 0.25rem;
        margin: 0.25rem;
      }
    </style>
    <script>
      // my array of possible pictures stores:
      //  * the name of the person
      //  * whether it's been clicked

      // when I display the array
      // if it's been clicked, I show the person
      // otherwise, I show the background

      // when I click a card
      // i change the array to say it's been clicked


      //JSON
      let doublePictures = [
        {
          name: 'Kelauni-Cook.jpg',
          clicked: false,
          matched: false
        },
        {
          name: 'Marc-Salo.jpg',
          clicked: false,
          matched: false
        },
        {
          name: 'Kelauni-Cook.jpg',
          clicked: false,
          matched: false
        },
        {
          name: 'Marc-Salo.jpg',
          clicked: false,
          matched: false
        }
      ];

      const flipCard = (position) => {
        // find the right place in doublePictures and change clicked to true
        // doublePictures[i]
        doublePictures[position].clicked = true;
        drawGame();
        // if there are two clicked
          // if they're matched
            // call them matched in the array
            // check for doneness - if done, set congratulatory message
          // else
            // re-flip them
          //wait 1 sec and draw again
        // else
          // do nothing
      }

      const createDivForImage = (imageObject, position) => {
        const imageName = imageObject.name;
        const clicked = imageObject.clicked;
        if (clicked) {
          htmlString = '<img src="images/' + imageName + '" />';
        } else if (imageObject.matched) {
          //display blank div
        } else {
          htmlString = '<img onClick="flipCard(' + position + ')" src="images/background.jpg" />';
        }
        return htmlString;
      }

      const drawGame = () => {
        // DOM traversal
        const game = document.getElementById("game");

        let displayString = '';
        let i = 0;
        let imageString = '';
        for(i; i < doublePictures.length; i++) {
          imageString = createDivForImage(doublePictures[i], i);
          displayString = displayString + imageString;
        }
        game.innerHTML = displayString;
      }

      window.onload = drawGame;
    </script>
  </head>
  <body>
    <div>Hello, world!</div>
    <div id="game"></div>
  </body>
</html>